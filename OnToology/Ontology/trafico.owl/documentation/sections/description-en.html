<html>
  <h2 id="desc" class="list">Description <span class="backlink"> back to <a href="#toc">ToC</a></span></h2>
  
<!-- Comienzo explicación -->
  <p>This vocabulary represents the traffic information of cities, which includes motor vehicles and excludes other types of vehicles or passers-by.</p>
  <p>Therefore the scope of this vocabulary is defined in:</p>
  <ul>
    <li>Traffic equipment, including measuring devices: measurements they obtain, location of devices, sections they measure.</li>
    <li>Incidents related to traffic on public roads.</li>
    <li>Section that observes the equipment or where the incidence occurs.</li>
  </ul>
  
  <p>Figure 1 shows the classes and properties of the traffic vocabulary. The main objective of this vocabulary is to allow the representation of traffic equipment as well as incidences.</p>

    <div><center><img src="resources/images/vocabulario-trafico-sin-leyenda.png" alt="Open Cities Initiative Traffic Vocabulary Diagram"/><figcaption>Figure 1. - Vocabulary for the representation of data on urban motor vehicle traffic</figcaption></center></div>

  <p>In order to represent monitoring devices it has been created the concept <a href="#EquipoTrafico">estraf:EquipoTrafico</a> that must be associated with a <a href="#tipoEquipoTrafico">estraf:tipoEquipoTrafico</a> that links with the taxonomy <a href="http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-equipo-trafico">estraf-kos:tipo-equipo-trafico</a>. Their properties are a identifier <a href="http://purl.org/dc/terms/identifier" >dct:identifier</a>, a description <a href="#descripcion">estraf:descripcion</a>, the number of directions it performs <a href="#numSentidos" >estraf#numSentidos</a>, the number of lanes <a href="#numeroCarriles">estraf:numCarriles</a> and whether it is urban or not <a href="#urbano" >estraf:urbano</a>.</p>

  <p>This device monitors <a href="#monitorea">estraf:monitorea</a> a section <a href="#Tramo">estraf:Tramo</a> which is a created class to describe sections monitored by devices and sections affected by an <a href="#Incidencia">estraf:Incidencia</a>.</p>
  
  <p>There are two types of traffic equipment, traffic control equipment <a href="#EquipoTrafico">estraf:EquipoTrafico</a>  and traffic measurement devices <a href="#DispositivoMedicionTrafico">estraf:DispositivoMedicionTrafico</a>. Both devices and their corresponding subtypes are defined in the above-mentioned taxonomy <a href="http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-equipo-trafico">estraf-kos:tipo-equipo-trafico</a>.</p>

    <p>For traffic measurement devices it has been created the class <a href="#DispositivoMedicionTrafico">estraf:DispositivoMedicionTrafico</a> which is also a a subclass of <a href="http://www.w3.org/ns/sosa/Sensor">sosa:Sensor</a> and it is displayed in the diagram that explains this section of the vocabulary focused on the description of the performance of measurement devices.</p>

    <div><center><img src="resources/images/vocabulario-trafico-mediciones.png" alt="Diagram of Traffic Equipment and Traffic Measuring Device as a subclass of soda:Sensor"/><figcaption>Figure 2. - Diagram of Traffic Equipment and Traffic Measuring Device as a subclass of soda:Sensor</figcaption></center></div>

<p>The class <a href="#DispositivoMedicionTrafico">estraf:DispositivoMedicionTrafico</a> which is a subclass of <a href="#EquipoTrafico">estraf:EquipoTrafico</a> and <a href="http://www.w3.org/ns/sosa/Sensor">sosa:Sensor</a> is monitoring <a href="http://www.w3.org/ns/sosa/observes">sosa:observes</a> the created class <a href="#PropiedadMedicionTrafico">estraf:PropiedadMedicionTrafico</a> which is a subclass of <a href="http://www.w3.org/ns/sosa/ObservableProperty">sosa:ObservableProperty</a> where it is especified the unity of measurement of the device with the property <a href="#unidadMedida">estraf:unidadMedida</a>. Moreover, <a href="#DispositivoMedicionTrafico">estraf:DispositivoMedicionTrafico</a> it has an attribute that indicates whether or not it is on service <a href="#enservicio">estraf:enservicio</a></p>

  <p>The class <a href="#PropiedadMedicionTrafico">estraf:PropiedadMedicionTrafico</a> has six instances which are the measurements defined so far: intensity  <a href="#intensidad">estraf:intensidad</a>, occupation <a href="#ocupacion">estraf:ocupacion</a>, load <a href="#carga">estraf:carga</a>, speed <a href="#velocidad">estraf:velocidad</a>, occupation level <a href="#nivel">estraf:nivel</a> and composition <a href="#composition">estraf:composicion</a>.</p>

  <p>The properties are the observed properties <a href="http://www.w3.org/ns/sosa/observedProperty">sosa:observedProperty</a> of the class <a href="#ObservacionTrafico">estraf:ObservacionTrafico</a>, a created class which is a subclass of <a href="http://www.w3.org/ns/sosa/Observation" >sosa:Observation</a> with the following attributes: the result time <a href="https://www.w3.org/ns/sosa/resultTime">sosa:resultTime</a>, the result itself <a href="http://www.w3.org/ns/sosa/hasSimpleResult">sosa:hasSimpleResult</a> and the created property "validated" <a href="#validada">estraf:validada</a>. The time in which the observation has been made is expressed through the property <a href="http://www.w3.org/ns/sosa/phenomenonTime">sosa:phenomenonTime</a> which links with the class <a href="http://www.w3.org/2006/time#ProperInterval">time:ProperInterval</a>, subclass of <a href="http://www.w3.org/2006/time#Interval">time:Interval</a> which has the beginning of an interval <a href="http://www.w3.org/2006/time#hasBeginning">time:hasBegining</a> and an end <a href="http://www.w3.org/2006/time#hasEnd">time:hasEnd</a> which both link with the class <a href="http://www.w3.org/2006/time#Instant">time:Instant</a> which is also, as <a href="http://www.w3.org/2006/time#Interval">time:Interval</a>, a subclass of <a href="http://www.w3.org/2006/time#TemporalEntity">time:TemporalEntity</a>. Finally, the observation has a feature of interest relation <a href="https://www.w3.org/ns/sosa/hasFeatureOfInterest">sosa:hasFeatureOfInterest</a> with the section <a href="#Tramo">estraf:Tramo</a> it monitors.</p>

    <!-- INCIDENCIA -->
    
    <div><center><img src="resources/images/vocabulario-trafico-incidencia.png" alt="Diagram of the traffic incidence and its relation with the section"/><figcaption>Figure 3. - Diagram of the traffic incidence and its relation with the section.</figcaption></center></div>

  <p>The main concept of this section is Incidence <a href="#Incidencia" >estraf:Incidencia</a> which is linked to section <a href="#Tramo" >estraf:Tramo</a> through the property incidence in section <a href="#incidenciaEnTramo">estraf:incidenciaEnTramo</a>.</p>

  <p>Due to the fact that is a subclass of <a href="http://www.opengis.net/ont/geosparql#Feature" >geosparql:Feature</a> as well as <a href="#Tramo">estraf:Tramo</a> and <a href="#EquipoTrafico">estraf:EquipoTrafico</a> are, they have the property <a href="http://www.opengis.net/ont/geosparql#hasGeometry">geosparql:hasGeometry</a> which links with the localisation in a geographic point <a href="http://www.opengis.net/ont/sf#Point">sf:Point</a> whose attributes are the coordinates in <a href="http://www.w3.org/2003/01/geo/wgs84_pos#">WGS84</a> with <a href="http://www.w3.org/2003/01/geo/wgs84_pos#lat">geo:lat</a> and <a href="http://www.w3.org/2003/01/geo/wgs84_pos#long">geo:long</a> and in <a href="https://datos.ign.es/def/geo_core#">ETRS89</a> with <a href="https://datos.ign.es/def/geo_core#xETRS89">geo_core:xETRS89</a> and <a href="https://datos.ign.es/def/geo_core#yETRS89">geo_core:yETRS89</a>.</p>

  <p>It also relations with the taxonomy of types of incidence <a href="http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-incidencia">estraf-kos:tipo-incidencia</a> through the property <a href="#tipoIncidencia">estraf:tipoIncidencia</a>.</p>

  <p><a href="#Incidencia">estraf:Incidencia</a> has an identifier <a href="http://purl.org/dc/terms/identifier">dct:identifier</a>, a description <a href="http://purl.org/dc/terms/description">dct:description</a>, a start date <a href="https://schema.org/startDate">schema:startDate</a>, an end date <a href="https://schema.org/endDate">schema:endDate</a>, the number of directions it affects <a href="#numSentidos">estraf:numSentidos</a> and the number of lanes <a href="#numCarriles">estraf:numCarriles</a>.</p>

  <p>It has two subclasses, the planned incidence <a href="#IncidenciaPlanificada">estraf:IncidenciaPlanificada</a> and the unplanned incidences <a href="#IncidenciaNoPlanificada">estraf:IncidenciaNoPlanificada</a> for those who are not planned.</p>

<p>As well as for <a href="#Incidencia" >estraf:Incidencia</a>, <a href="#EquipoTrafico" >estraf:EquipoTrafico</a> and <a href="#Tramo" >estraf:Tramo</a> are also subclasses of <a href="http://www.opengis.net/doc/IS/geosparql/1.0#Feature">geosparql:Feature</a>, so it is repeated the property <a href="http://www.opengis.net/doc/IS/geosparql/1.0#Geometry">geosparql:hasGeometry</a> as in <a href="#Incidencia">estraf:Incidencia</a>.</p>

    <h3>3.1 Usage examples<span class="backlink" > back to <a href="#toc" >index</a></span></h3>

    <!-- WARNING: NOT YET TRANSLATED OR CORRECTED, PENDING VALIDATION -->

<p>In order to facilitate the understanding of the use of some classes and properties of this vocabulary, some examples are provided below:</p>
    <h4>3.1.1 Traffic Equipment</h4>

  <p>Firstly for the representation of the traffic device it is created the class <a href="#EquipoTrafico">estraf:EquipoTrafico</a>, or <a href="#DispositivoMedicionTrafico" >estraf:DispositivoMedicionTrafico</a> if this is a measurement traffic device. In any case the device has an identifier <a href="http://purl.org/dc/terms/identifier" >dct:identifier</a>, a description <a href="http://purl.org/dc/terms/description">dct:description</a> and if it is a measurement traffic device also the property <a href="#enServicio">estraf:enServicio</a> and the frecuency of measurement with <a href="#frecuenciaMedicion">estraf:frecuenciaMedicion</a>. It is also possible indicate how many directions a device observes with <a href="#numSentidos">estraf:numSentidos</a>, how many lanes it observes and whether it is an urban device or not with <a href="#urbano">estraf:urbano</a>.</p>

  <p>It is linked throught the property <a href="#tipoEquipoTrafico">estraf:tipoEquipoTrafico</a> with the corresponding device of the taxaonomy of types of traffic devices <a href="http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-equipo-trafico">estraf-kos:tipo-equipo-trafico</a>. For instance a <b>Pneumatic hose</b> links with <a href="http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-equipo-trafico/tipo-control-trafico/tubo-neumatico">estraf-kos:tubo-neumatico</a>.</p>

  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/equipotrafico/100&gt; a estraf:DispositivoMedicionTrafico ;
    dct:identifier "100"^^xsd:string ;
    dct:description "C. GRAN VIA;San Bernardo-Garcia Molinas;San Bernardo"^^xsd:string ;
    sosa:observes &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/carga&gt; ;
    estraf:numSentidos "2"^^xsd:int ;
    estraf:numCarriles "8"^^xsd:integer ;
    estraf:urbano "true"^^xsd:boolean ;
    estraf:enServicio "true"^^xsd:boolean ;
    estraf:frecuenciaMedicion "5 minutos"^^xsd:string ;
    geosparql:hasGeometry &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/point/100&gt; ;
    estraf:monitorea &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/tramo/100&gt; ;
    estraf:tipoEquipoTrafico &lt;http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-equipo-trafico/lazo-magnetico&gt; .
  </pre>

  <h4>3.1.2 Geographical Feature</h4>
  
  <p>Due to the fact that <a href="#EquipoTrafico">estraf:EquipoTrafico</a> is a subclass of <a href="http://www.opengis.net/ont/geosparql#Feature">geosparql:Feature</a>, it relates through <a href="http://www.opengis.net/ont/geosparql#hasGeometry">geosparql:hasGeometry</a> with the localisation of the measurement point <a href="http://www.opengis.net/ont/sf#Point">sf:Point</a>.</p>
  
  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/point/100&gt; a sf:Point ;
    geo:lat "40,42262"^^xsd:float ;
    geo:long "-3,71224"^^xsd:float ;
    geo_core:xETRS89 "-2465360,47"^^xsd:float ;
    geo_core:yETRS89 "5100548,33"^^xsd:float ;
    geosparql:asWKT  "POINT (-3.71224 40,42262)"^^geosparql:wktLiteral .
  </pre>

  <h4>3.1.3 What it observes</h4>
  
  <p>The instance of <a href="#DispositivoMedicionTrafico">estraf:DispositivoMedicionTrafico</a> is associated with instances of the class <a href="#PropiedadMedicionTrafico" >estraf:PropiedadMedicionTrafico</a> through the property <a href="http://www.w3.org/ns/sosa/observes">sosa:observes</a>. This instance has the measurement unit of the property in <a href="#unidadMedida">estraf:unidadMedida</a>.</p>

  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/carga&gt; a estraf:PropiedadMedicionTrafico ;
    estraf:unidadMedida "Porcentaje"^^xsd:string .
  </pre>

  <h4>3.1.4 Traffic observation</h4>
  
  <p>With instances of this class has also relation the class <a href="#ObservacionTrafico" >estraf:ObservacionTrafico</a> through the property <a href="http://www.w3.org/ns/sosa/observedProperty">sosa:observedProperty</a>. In this class are included as properties the time when the observation was performed in <a href="http://www.w3.org/ns/sosa/resultTime">sosa:resultTime</a> and the result itself in <a href="http://www.w3.org/ns/sosa/observedProperty">sosa:hasSimpleResult</a>, as well as the created property <a href="#validada">estraf:validada</a> to indicate whether the observation is validated or not. In order to represent the registry interval of observation it is used the property <a href="http://www.w3.org/ns/sosa/phenomenonTime">sosa:phenomenonTime</a> which relate with the class <a href="http://www.w3.org/2006/time#ProperInterval">time:ProperInterval</a> as it has been explained before.</p>
  <p>Observation:</p>
  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/observaciontrafico/20200423114500&gt; a estraf:ObservacionTrafico ;
    dct:identifier "100-20200423114500"^^xsd:string ;
    sosa:resultTime "2020-04-23T11:45:00+02:00"^^xsd:dateTime ;
    sosa:hasSimpleResult "60"^^xsd:integer ;
    estraf:validada "true"^^xsd:boolean ;
    sosa:madeBySensor &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/equipo-trafico/100&gt; ;
    sosa:observedProperty &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/carga&gt; ;
    sosa:hasFeatureOfInterest &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/tramo/100&gt; ;
    sosa:phenomenonTime &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/properinterval/20200423114500&gt; .
  </pre>

  <p>Observation Interval:</p>
  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/properinterval/20200423114500&gt; a time:ProperInterval ;
    time:hasBegining &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/instant/20200423114455&gt; ;
    time:hasEnd &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/instant/202004231145000&gt; .

    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/instant/20200423114455&gt; a time:Instant ;
    time:inXSDgYearMonth "2020-04-23T11:44:55+02:00"^^xsd:dateTime .
    
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/instant/20200423114500&gt; a time:Instant ;
    time:inXSDgYearMonth "2020-04-23T11:45:00+02:00"^^xsd:dateTime .
  </pre>
  <h4>3.1.5 The feature of interest</h4>
  <p>This observation has a feature of interest <a href="https://www.w3.org/ns/sosa/hasFeatureOfInterest" >sosa:hasFeatureOfInterest</a> which relates the Observation <a href="#Observacion">estraf:Observacion</a> with the section <a href="#Tramo" >estraf:Tramo</a> it monitors.</p>
  
  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/tramo/100&gt; a estraf:Tramo ;
    geosparql:hasGeometry &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/point/100&gt; ;
    estraf:inicioTramo &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/point/100&gt; ;
    estraf:finTramo &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/point/101&gt; ;
    estraf:via  &lt;http://vocab.linkeddata.es/datosabiertos/urbanismo-infraestructuras/callejero/calle/100&gt; .
  </pre>

  <h4>3.1.6 Incidence</h4>
  <p>In order to represent an <a href="#Incidencia">estraf:Incidencia</a> the class with the properties listed below has been created: a creation date <a href="http://purl.org/dc/terms/created">dct:created</a>; a start date <a href="https://schema.org/startDate" >schema:startDate</a>; an end date <a href="https://schema.org/endDate" >schema:endDate</a>; a scheduled end date <a href="#fechaFinPrevista" >estraf:fechaFinPrevista</a>; the number of directions affected by the incidence <a href="#numSentidos">estraf:numSentidos</a>; the number of lanes affected by the incidence <a href="#numCarriles">estraf:numCarriles</a>;  the property <a href="#esRecurrente">estraf:esRecurrente</a> sets whether the incidence is recurrent or not; the reason of the recurrence <a href="#recurrencia">estraf:recurrencia</a>; and finally the URI of a document to find all the information about the incidence <a href="http://www.w3.org/2000/01/rdf-schema#seeAlso">rdfs:seeAlso</a>:</p>

  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/incidenciaplanificada/1000&gt; a estraf:Incidencia ;
    dct:identifier "1000"^^xsd:string ;
    dct:description "EXP-2020/22329 Plaza Humilladero-Almendro"^^xsd:string ;
    schema:startDate "2020-03-12T16:00:00+02:00"^^xsd:dateTime ;
    schema:endDate "2020-03-13T23:00:00+02:00"^^xsd:dateTime ;
    estraf:fechaFinPrevista "2028-03-08T23:00:00+02:00"^^xsd:dateTime ;
    estraf:numSentidos "1"^^xsd:integer ;
    estraf:numCarriles "3"^^xsd:integer ;
    estraf:esRecurrente "true"^^xsd:boolean ;
    estraf:recurrencia "Excursión juvenil" ;
    estraf:tipoIncidencia &lt;http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-equipo-trafico/evento&gt; ;
    geosparql:hasGeometry
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/point/1000&gt; ;
    estraf:incidenciaEnTramo &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/tramo/1000&gt; .
  </pre>

</html>
