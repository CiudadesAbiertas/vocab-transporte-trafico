<html>
  <h2 id="desc" class="list">Descripci&oacute;n <span class="backlink"> volver a <a href="#toc">&iacute;ndice</a></span></h2>

  <!-- Comienzo explicación -->
  <p>Este vocabulario representa la información de tráfico de las ciudades, lo cual comprende los vehículos motorizados y excluye otro tipo de vehículos o transeúntes.</p>
  <p>Por tanto se define el alcance de este vocabulario en:</p>
  <ul>
    <li>Equipos de tráfico, incluidos los dispositivos de medición: medidas que obtienen, ubicación de los dispositivos, tramos que miden.</li>
    <li>Incidencias relacionadas con el tráfico en la vía pública.</li>
    <li>Tramo que observa el equipo o donde se produce la incidencia.</li>
  </ul>
  
  <p>La Figura 1 muestra las clases y propiedades del vocabulario de tráfico. El principal objetivo de este vocabulario es permitir la representación de los equipos de tráfico así como de las incidencias.</p>

  <div><center><img src="resources/images/vocabulario-trafico-sin-leyenda.png" alt="Diagrama del vocabulario de tráfico de la iniciativa Ciudades Abiertas"/><figcaption>Figura 1. - Vocabulario para la representación de datos sobre el tráfico urbano de vehículos a motor.</figcaption></center></div>

  <p>Para representar los equipos de control se ha creado el concepto <a href="#EquipoTrafico">estraf:EquipoTrafico</a> que debe tener asociado un <a href="#tipoEquipoTrafico">estraf:tipoEquipoTrafico</a> que se relaciona con la taxonomía <a href="http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-equipo-trafico">estraf-kos:tipo-equipo-trafico</a>. Tiene como propiedades un identificador del equipo <a href="http://purl.org/dc/terms/identifier" >dct:identifier</a>, una descripción <a href="#descripcion">estraf:descripcion</a>, el número de sentidos a los que sirve <a href="#numSentidos" >estraf:numSentidos</a>, el número de carriles <a href="#numeroCarriles">estraf:numCarriles</a> y si es urbano o no <a href="#urbano" >estraf:urbano</a>.</p>

  <p>El equipo monitorea <a href="#monitorea">estraf:monitorea</a> un tramo <a href="#Tramo">estraf:Tramo</a> que es una clase que se ha creado para describir tanto los tramos que monitorean los equipos como los tramos de vía que se ven afectados por una <a href="#Incidencia">estraf:Incidencia</a>.</p>

  <p>Hay dos tipos de equipos de tráfico: equipos de control de tráfico <a href="#EquipoTrafico">estraf:EquipoTrafico</a> y dispositivos de medición del tráfico <a href="DispositivoMedicionTrafico">estraf:DispositivoMedicionTrafico</a>. Ambos con sus correspondientes subtipos están definidos en la citada taxomonía <a href="http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-equipo-trafico">estraf-kos:tipo-equipo-trafico</a>.</p>

  <p>Para los dispositivos de medición de tráfico se ha creado la clase <a href="#DispositivoMedicionTrafico">estraf:DispositivoMedicionTrafico</a> que es a su vez una subclase de <a href="http://www.w3.org/ns/sosa/Sensor">sosa:Sensor</a> y que despliega el diagrama de relación con este vocabulario de descripción de dispositivos de medición.</p>

  <div><center><img src="resources/images/vocabulario-trafico-mediciones.png" alt="Diagrama de los equipos de control del tráfico urbano de vehículos a motor"/><figcaption>Figura 2. - Diagrama del Equipo de Tráfico y del Dispositivo de Medición de Tráfico como subclase de sosa:Sensor</figcaption></center></div>

  <p>La clase <a href="#DispositivoMedicionTrafico">estraf:DispositivoMedicionTrafico</a>, que es subclase de <a href="#EquipoTrafico">estraf:EquipoTrafico</a> y de <a href="http://www.w3.org/ns/sosa/Sensor">sosa:Sensor</a>, está observando <a href="http://www.w3.org/ns/sosa/observes">sosa:observes</a> la clase creada <a href="#PropiedadMedicionTrafico">estraf:PropiedadMedicionTrafico</a> que es una subclase de <a href="http://www.w3.org/ns/sosa/ObservableProperty">sosa:ObservableProperty</a> donde se especifica la unidad medida por el dispositivo con la propiedad <a href="#unidadMedida">estraf:unidadMedida</a>. Además, <a href="#DispositivoMedicionTrafico">estraf:DispositivoMedicionTrafico</a> tiene un atributo que indica si se encuentra en servicio o no, <a href="#enservicio">estraf:enservicio</a></p>

  <p>La clase <a href="#PropiedadMedicionTrafico">estraf:PropiedadMedicionTrafico</a> cuenta con seis instancias que son las mediciones definidas hasta ahora: intensidad <a href="#intensidad">estraf:Intensidad</a>, ocupación <a href="#ocupacion">estraf:ocupacion</a>, carga <a href="#carga">estraf:carga</a>, velocidad <a href="#velocidad">estraf:velocidad</a>, nivel <a href="#nivel">estraf:nivel</a> y composición <a href="#composicion">estraf:composicion</a>.</p>

  <p>Las propiedades son las propiedades observadas <a href="http://www.w3.org/ns/sosa/observedProperty">sosa:observedProperty</a> de la clase <a href="#ObservacionTrafico">estraf:ObservacionTrafico</a>, una clase creada que es subclase de <a href="http://www.w3.org/ns/sosa/Observation" >sosa:Observation</a> que tiene como atributos el registro horario del resultado <a href="https://www.w3.org/ns/sosa/resultTime">sosa:resultTime</a>, el resultado en sí <a href="http://www.w3.org/ns/sosa/hasSimpleResult">sosa:hasSimpleResult</a> y la creada propiedad <a href="#validada">estraf:validada</a>. El tiempo en el que se ha realizado la observación se expresa a través de la propiedad <a href="http://www.w3.org/ns/sosa/phenomenonTime">sosa:phenomenonTime</a> que enlaza con la clase <a href="http://www.w3.org/2006/time#ProperInterval">time:ProperInterval</a>, subclase de <a href="http://www.w3.org/2006/time#Interval">time:Interval</a> que tiene un inicio de intervalo <a href="http://www.w3.org/2006/time#hasBegining">time:hasBegining</a> y un fin de intervalo <a href="http://www.w3.org/2006/time#hasEnd">time:hasEnd</a> que enlazan con la clase <a href="http://www.w3.org/2006/time#Instant">time:Instant</a> que es también, como <a href="http://www.w3.org/2006/time#Interval">time:Interval</a>, subclase de <a href="http://www.w3.org/2006/time#TemporalEntity">time:TemporalEntity</a>. Finalmente, la observación tiene una tiene una característica de Interés <a href="https://www.w3.org/ns/sosa/hasFeatureOfInterest">sosa:hasFeatureOfInterest</a> con el tramo <a href="#Tramo">estraf:Tramo</a> que observa.</p>

  <!-- INCIDENCIA -->
  
  <div><center><img src="resources/images/vocabulario-trafico-incidencia.png" alt="Diagrama de la Incidencia del vocabulario de tráfico urbano de vehículos a motor"/><figcaption>Figura 3. - Diagrama de la Incidencia de Tráfico y su relación con el Tramo</figcaption></center></div>

  <p>El concepto principal de esta sección es la <a href="#Incidencia">estraf:Incidencia</a> que se relaciona con <a href="#Tramo">estraf:Tramo</a> a través de la propiedad <a href="#incidenciaEnTramo">estraf:incidenciaEnTramo</a>.</p>

  <p>Dado que es subclase de <a href="http://www.opengis.net/ont/geosparql#Feature" >geosparql:Feature</a>, como <a href="#Tramo">estraf:Tramo</a> y <a href="#EquipoTrafico">estraf:EquipoTrafico</a>, tiene la propiedad <a href="http://www.opengis.net/ont/geosparql#hasGeometry">geosparql:hasGeometry</a> que enlaza con su localización en un punto geográfico <a href="http://www.opengis.net/ont/sf#Point">sf:Point</a> cuyos atributos son las coordenadas en <a href="http://www.w3.org/2003/01/geo/wgs84_pos#">WGS84</a> con <a href="http://www.w3.org/2003/01/geo/wgs84_pos#lat">geo:lat</a> y <a href="http://www.w3.org/2003/01/geo/wgs84_pos#long">geo:long</a> y en <a href="https://datos.ign.es/def/geo_core#">ETRS89</a> con <a href="https://datos.ign.es/def/geo_core#xETRS89">geo_core:xETRS89</a> y <a href="https://datos.ign.es/def/geo_core#yETRS89">geo_core:yETRS89</a>.</p>

  <p>También se relaciona con la taxonomía de tipos de incidencia <a href="http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-incidencia">estraf-kos:tipo-incidencia</a> a través de la propiedad <a href="#tipoIncidencia">estraf:tipoIncidencia</a>.</p>
  
  <p><a href="#Incidencia">estraf:Incidencia</a> cuenta con un identificador <a href="http://purl.org/dc/terms/identifier">dct:identifier</a>, una descripción <a href="http://purl.org/dc/terms/description">dct:description</a>, una fecha de inicio <a href="https://schema.org/startDate">schema:startDate</a>, una fecha de fin <a href="https://schema.org/endDate">schema:endDate</a>, el número de sentidos a los que afecta <a href="#numSentidos">estraf:numSentidos</a> y el número de carriles <a href="#numCarriles">estraf:numCarriles</a>.</p>

  <p>Cuenta con dos subclases, la de <a href="#IncidenciaPlanificada">estraf:IncidenciaPlanificada</a> para las incidencias que están planificadas y <a href="#IncidenciaNoPlanificada">estraf:IncidenciaNoPlanificada</a> para las que no lo son.</p>

  <p>Al igual que la <a href="#Incidencia">estraf:Incidencia</a>, <a href="#EquipoTrafico">estraf:EquipoTrafico</a> y <a href="#Tramo">estraf:Tramo</a> son también subclases de <a href="http://www.opengis.net/ont/geosparql#Feature">geosparql:Feature</a>, por lo que se repite la propiedad <a href="http://www.opengis.net/ont/geosparql#hasGeometry">geosparql:hasGeometry</a> como en <a href="#Incidencia">estraf:Incidencia</a>.</p>

  <h3>3.1 Ejemplos de uso<span class="backlink" > volver al <a href="#toc">&iacute;ndice</a></span></h3>
  
  <p>Con la finalidad de facilitar la comprensión del uso de algunas clases y propiedades de este vocabulario se proporcionan a continuación algunos ejemplos:</p>

  <h4>3.1.1 Equipo Tráfico</h4>

  <p>En primer lugar, para la representación del equipo de tráfico se crea una instancia de la clase <a href="#EquipoTrafico">estraf:EquipoTrafico</a> en el caso de que sea un equipo de onitoreo del tráfico o bien de la clase <a href="#DispositivoMedicionTrafico">estraf:DispositivoMedicionTrafico</a> en caso de que sea un equipo de medición del tráfico. El equipo, sea cual sea, tendrá un identificador <a href="http://purl.org/dc/terms/identifier">dct:identifier</a>, una descripción <a href="http://purl.org/dc/terms/description">dct:description</a> y en caso de que sea de medición se indicará si está en servicio o no con la propiedad <a href="#enServicio">estraf:enServicio</a> y la frecuencia de medición <a href="#frecuenciaMedicion">estraf:frecuenciaMedicion</a>. También se puede indicar a cuántos sentidos observa el dispositivo con <a href="#numSentidos">estraf:numSentidos</a>, a cuántos o qué carriles con <a href="#numCarriles">estraf:numCarriles</a> y si se trata de un equipo urbano o no con <a href="#urbano">estraf:urbano</a>.</p>
  
  <p>Se enlaza a través de la propiedad <a href="#tipoEquipoTrafico">estraf:tipoEquipoTrafico</a> con el tipo de dispositivo correspondiente de la taxonomía de tipos de equipos de tráfico <a href="http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-equipo-trafico">estraf-kos:tipo-equipo-trafico</a>. Por ejemplo, si fuera un <b>Tubo neumático</b> se enlazaría con <a href="http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-equipo-trafico/tubo-neumatico">estraf-kos:tubo-neumatico</a>.</p>
  
  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/equipotrafico/100&gt; a estraf:DispositivoMedicionTrafico ;
    dct:identifier "100"^^xsd:string ;
    dct:description "C. GRAN VIA;San Bernardo-Garcia Molinas;San Bernardo"^^xsd:string ;
    sosa:observes &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/carga&gt; ;
    estraf:numSentidos "2"^^xsd:int ;
    estraf:numCarriles "8"^^xsd:integer ;
    estraf:urbano "true"^^xsd:boolean ;
    estraf:enServicio "true"^^xsd:boolean ;
    estraf:frecuenciaMedicion "5 minutos"^^xsd:string ;
    geosparql:hasGeometry &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/point/100&gt; ;
    estraf:monitorea &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/tramo/100&gt; ;
    estraf:tipoEquipoTrafico &lt;http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-equipo-trafico/tubo-neumatico&gt; .
  </pre>
  <h4>3.1.2 Accidente geográfico</h4>
  
  <p>Dado que <a href="#EquipoTrafico">estraf:EquipoTrafico</a> es subclase de <a href="http://www.opengis.net/ont/geosparql#Feature">geosparql:Feature</a> se relaciona a través de <a href="http://www.opengis.net/ont/geosparql#hasGeometry">geosparql:hasGeometry</a> la localización donde se encuentra la medición en el punto <a href="http://www.opengis.net/ont/sf#Point">sf:Point</a>.</p>
  
  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/point/100&gt; a sf:Point ;
    geo:lat "40,42262"^^xsd:float ;
    geo:long "-3,71224"^^xsd:float ;
    geo_core:xETRS89 "-2465360,47"^^xsd:float ;
    geo_core:yETRS89 "5100548,33"^^xsd:float ;
    geosparql:asWKT  "POINT (-3.71224 40,42262)"^^geosparql:wktLiteral .
  </pre>

  <h4>3.1.3 Lo que observa</h4>
  
  <p>La instancia de <a href="#DispositivoMedicionTrafico">estraf:DispositivoMedicionTrafico</a> se asocia con instancias de la clase <a href="#PropiedadMedicionTrafico" >estraf:PropiedadMedicionTrafico</a> a través de la propiedad <a href="http://www.w3.org/ns/sosa/observes">sosa:observes</a>. Esta instancia tiene la unidad de medida en la propiedad <a href="#unidadMedida">estraf:unidadMedida</a>.</p>

  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/carga&gt; a estraf:PropiedadMedicionTrafico ;
    estraf:unidadMedida "Porcentaje"^^xsd:string .
  </pre>

  <h4>3.1.4 Observación de Tráfico</h4>
  
  <p>Con instancias de esta clase también se relaciona la clase <a href="#ObservacionTrafico" >estraf:ObservacionTrafico</a> a través de la propiedad <a href="http://www.w3.org/ns/sosa/observedProperty">sosa:observedProperty</a>. En esta clase se incluyen como propiedades la hora de realización del registro en <a href="http://www.w3.org/ns/sosa/resultTime">sosa:resultTime</a> y el resultado en <a href="http://www.w3.org/ns/sosa/observedProperty">sosa:hasSimpleResult</a>, además de la propiedad creada <a href="#validada">estraf:validada</a> que indica si el dato ha sido validado o no. Para representar el intervalo de registro de datos se utiliza la propiedad <a href="http://www.w3.org/ns/sosa/phenomenonTime">sosa:phenomenonTime</a> que se relaciona con la clase <a href="http://www.w3.org/2006/time#ProperInterval">time:ProperInterval</a> como se ha explicado anteriormente.</p>
  <p>Observación:</p>
  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/observaciontrafico/20200423114500&gt; a estraf:ObservacionTrafico ;
    dct:identifier "100-20200423114500"^^xsd:string ;
    sosa:resultTime "2020-04-23T11:45:00+02:00"^^xsd:dateTime ;
    sosa:hasSimpleResult "60"^^xsd:integer ;
    estraf:validada "true"^^xsd:boolean ;
    sosa:madeBySensor &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/equipo-trafico/100&gt; ;
    sosa:observedProperty &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/carga&gt; ;
    sosa:hasFeatureOfInterest &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/tramo/100&gt; ;
    sosa:phenomenonTime &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/properinterval/20200423114500&gt; .
  </pre>

  <p>Intervalo de observación:</p>
  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/properinterval/20200423114500&gt; a time:ProperInterval ;
    time:hasBegining &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/instant/20200423114455&gt; ;
    time:hasEnd &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/instant/202004231145000&gt; .

    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/instant/20200423114455&gt; a time:Instant ;
    time:inXSDgYearMonth "2020-04-23T11:44:55+02:00"^^xsd:dateTime .
    
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/instant/20200423114500&gt; a time:Instant ;
    time:inXSDgYearMonth "2020-04-23T11:45:00+02:00"^^xsd:dateTime .
  </pre>
  <h4>3.1.5 Donde aparece</h4>
  <p>Esta Observación aparece a través de <a href="https://www.w3.org/ns/sosa/hasFeatureOfInterest" >sosa:hasFeatureOfInterest</a> que relaciona con el tramo <a href="#Tramo" >estraf:Tramo</a> que ésta monitorea.</p>
  
  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/tramo/100&gt; a estraf:Tramo ;
    geosparql:hasGeometry &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/point/100&gt; ;
    estraf:inicioTramo &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/point/100&gt; ;
    estraf:finTramo &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/point/101&gt; ;
    estraf:via  &lt;http://vocab.linkeddata.es/datosabiertos/urbanismo-infraestructuras/callejero/calle/100&gt; .
  </pre>

  <h4>3.1.6 Incidencia</h4>
  <p>Para representar una incidencia se ha creado la clase <a href="#Incidencia" >estraf:Incidencia</a> que cuenta con las propiedades relatadas anteriormente: una fecha de creación de la incidencia <a href="http://purl.org/dc/terms/created">dct:created</a>; una fecha de inicio <a href="https://schema.org/startDate" >schema:startDate</a>; una fecha de fin <a href="https://schema.org/endDate" >schema:endDate</a>; una fecha de fin prevista en la propiedad creada <a href="#fechaFinPrevista" >estraf:fechaFinPrevista</a>; el número de sentidos <a href="#numSentidos">estraf:numSentidos</a>; el número de carriles <a href="#numCarriles">estraf:numCarriles</a>; si es recurrente <a href="#esRecurrente">estraf:esRecurrente</a> y en este caso el motivo de la recurrencia <a href="#recurrencia">estraf:recurrencia</a>;y  un documento en una URI donde ampliar o poner toda la información de la incidencia con <a href="http://www.w3.org/2000/01/rdf-schema#seeAlso">rdfs:seeAlso</a>:</p>

  <pre>
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/incidenciaplanificada/1000&gt; a estraf:Incidencia ;
    dct:identifier "1000"^^xsd:string ;
    dct:description "EXP-2020/22329 Plaza Humilladero-Almendro"^^xsd:string ;
    schema:startDate "2020-03-12T16:00:00+02:00"^^xsd:dateTime ;
    schema:endDate "2020-03-13T23:00:00+02:00"^^xsd:dateTime ;
    estraf:fechaFinPrevista "2028-03-08T23:00:00+02:00"^^xsd:dateTime ;
    estraf:numSentidos "1"^^xsd:integer ;
    estraf:numCarriles "3"^^xsd:integer ;
    estraf:esRecurrente "true"^^xsd:boolean ;
    estraf:recurrencia "Excursión juvenil" ;
    estraf:tipoIncidencia &lt;http://vocab.linkeddata.es/datosabiertos/kos/transporte/trafico/tipo-incidencia/evento&gt; ;
    geosparql:hasGeometry
    &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/point/1000&gt; ;
    estraf:incidenciaEnTramo &lt;http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/tramo/1000&gt; .
  </pre>

</html>
